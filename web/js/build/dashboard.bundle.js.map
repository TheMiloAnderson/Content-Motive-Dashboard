{"version":3,"sources":["webpack:///webpack/bootstrap 2a20315f40c38d76763f","webpack:///./web/js/chart.js","webpack:///./web/js/table.js","webpack:///./web/js/dashboard.js"],"names":["Chart","url","dealers","_prms","width","d3","select","node","getBoundingClientRect","height","windowHeight","window","innerHeight","x","y","duration","dataLines","lineWidth","pageViewColor","uniqueVisitorColor","entrancesColor","textDx","textDy","fontSize","opacity","margin","top","right","bottom","left","dateGuideOpacity","dataCache","_dataset","_dataSubset","_mainChart","_g","append","_startDateGuide","_endDateGuide","_height","_width","_xScale","_yScale","ajaxUrl","dealersList","changeData","createChart","bind","id","Table","callback","jQuery","ajax","dataType","method","success","data","JSON","parse","prepData","error","xhr","console","log","parseTime","timeParse","tot_pageviews","tot_visitors","tot_entrances","i","length","property_id","date_recorded","pageviews","visitors","entrances","avg_time","bounce_rate","dealer_id","attr","g2","addPath","lineClass","color","updateChart","d","svg","transition","scaleTime","range","domain","extent","map","yDomainMin","min","yDomainMax","max","scaleLinear","formatDay","timeFormat","formatWeek","formatMonth","formatYear","multiFormat","date","timeMonth","timeWeek","timeYear","bottomAxis","axisBottom","ticks","tickFormat","tickPadding","tickSizeInner","tickSizeOuter","call","leftAxis","axisLeft","lineTransitions","selectAll","style","timer","el","isNaN","text","metricReadouts","detailTables","dataCol","txtId","lineD","area","y1","y0","originalPath","substring","split","pathCoordinates1","pathCoordinates2","endLine","secondSegment","lineLength","coords","Number","coordsObj","push","simplify","increment","item","splice","attrTween","previous","current","exclude","a","b","interpolatePath","tween","element","f","format","newValue","interpolateNumber","replace","t","avg_seconds","Math","floor","makeTime","time","sec","slice","breakTime","totalSec","elementText","bounceRate","_detailsTable","start","end","sites","getCurrentSites","getFullYear","getMonth","getDate","get","show","html","ChartInst","initialDataUrl","dealerList"],"mappings":"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","file":"dashboard.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2a20315f40c38d76763f","'use strict';\nclass Chart {\n    constructor(url, dealers) {\n        this._prms = {\n            width: d3.select('#chart-box #chart').node().getBoundingClientRect().width, // outer width\n            height: function() { // outer height\n                var windowHeight = window.innerHeight;\n                if (windowHeight > 720) {\n                    return 400;\n                } else {\n                    return 300;\n                }\n            },\n            x: 50,\n            y: 50,\n            duration: 1500,\n            dataLines: {\n                lineWidth: 1,\n                pageViewColor: 'steelblue',\n                uniqueVisitorColor: 'midnightblue',\n                entrancesColor: 'darkred',\n                textDx: 5,\n                textDy: '.3em',\n                fontSize: '1.1em',\n                opacity: 0.7\n            },\n            margin: {\n                top: 20,\n                right: 45,\n                bottom: 45,\n                left: 80\n            },\n            dateGuideOpacity: 0.3\n        };\n        this.dataCache = []; // all data for a user\n        this._dataset = []; // all data for a dealer\n        this._dataSubset = []; // dealer data filtered by date or website\n        this._mainChart = d3.select('.mainChart');\n        this._g = this._mainChart.append('g');\n        this._startDateGuide;\n        this._endDateGuide;\n        this._height; // inner height\n        this._width; // inner width\n        this._xScale;\n        this._yScale;\n        this.ajaxUrl = url;\n        this.dealersList = dealers;\n        this.changeData(this.createChart.bind(this), this.dealersList[0].id);\n        this.Table;\n    }\n    changeData(callback, id) {\n        if (this.dataCache[id]) {\n            this._dataset = this.dataCache[id];\n            callback();\n            this._dataSubset = this._dataset;\n        } else {\n            jQuery.ajax({\n                url: this.ajaxUrl,\n                dataType: 'text',\n                method: 'GET',\n                success: (data) => {\n                    data = JSON.parse(data);\n                    this._dataset = this.prepData(data);\n                    callback();\n                    this.dataCache[id] = this._dataSubset = this._dataset;\n                },\n                error:  function(xhr) {\n                    console.log(xhr);\n                }\n            });\n        }\n    }\n    prepData(data) {\n        let parseTime = d3.timeParse(\"%Y-%m-%d\");\n        let tot_pageviews = 0;\n        let tot_visitors = 0;\n        let tot_entrances = 0;\n        for (var i=0; i<data.length; i++) {\n            data[i].property_id = +data[i].property_id;\n            if (typeof data[i].date_recorded === 'string') { data[i].date_recorded = parseTime(data[i].date_recorded); }\n            data[i].pageviews = +data[i].pageviews;\n            data[i].visitors = +data[i].visitors;\n            data[i].entrances = +data[i].entrances;\n            data[i].avg_time = +data[i].avg_time;\n            data[i].bounce_rate = +data[i].bounce_rate;\n            data[i].dealer_id = +data[i].dealer_id;\n            data[i].tot_pageviews = tot_pageviews += data[i].pageviews;\n            data[i].tot_visitors = tot_visitors += data[i].visitors;\n            data[i].tot_entrances = tot_entrances += data[i].entrances;\n        }\n        return data;\n    }\n    createChart() {\n        this._mainChart\n            .attr('width', this._prms.width)\n            .attr('height', this._prms.height)\n        ;\n        this._width = +this._mainChart.attr('width') - this._prms.margin.left - this._prms.margin.right;\n        this._height = +this._mainChart.attr('height') - this._prms.margin.top - this._prms.margin.bottom;\n        this._g\n            .attr('transform', 'translate(' + this._prms.margin.left + ',' + this._prms.margin.top + ')')\n            .attr('overflow', 'visible');\n        this._g.append(\"g\")\n            .attr('class', 'xAxis')\n            .attr(\"transform\", \"translate(0,\" + this._height + \")\");\n        this._g.append(\"g\")\n            .attr('class', 'yAxis');\n        let g2 = this._g.append('g')\n            .attr('opacity', this._prms.dataLines.opacity);\n        let addPath = (lineClass, color) => {\n            g2.append(\"path\")\n                .attr('class', lineClass)\n                .attr(\"fill\", color)\n                .attr(\"stroke\", 'black')\n                .attr(\"stroke-width\", this._prms.dataLines.lineWidth)\n            ;\n        };\n        addPath('pageviews', this._prms.dataLines.pageViewColor);\n        addPath('visitors', this._prms.dataLines.uniqueVisitorColor);\n        addPath('entrances', this._prms.dataLines.entrancesColor);\n        this.updateChart(this._dataset);\n    }\n    updateChart(d) {\n        let svg = this._mainChart.transition();\n        // Define the D3 scales\n        this._xScale = d3.scaleTime()\n            .range([0, this._width])\n            .domain(d3.extent(d.map(function(d) { return d.date_recorded; })))\n        ;\n        let yDomainMin = d3.min(d.map(function(d) { return d.tot_entrances; }));\n        let yDomainMax = d3.max(d.map(function(d) { return d.tot_pageviews; }));\n        this._yScale = d3.scaleLinear()\n            .range([this._height, 0])\n            .domain([yDomainMin, yDomainMax * 1.1])\n        ;\n        // Axes\n        var formatDay = d3.timeFormat(\"%a %d\"),\n            formatWeek = d3.timeFormat(\"%b %d\"),\n            formatMonth = d3.timeFormat(\"%b\"),\n            formatYear = d3.timeFormat(\"%Y\");\n        function multiFormat(date) {\n          return (d3.timeMonth(date) < date ? (d3.timeWeek(date) < date ? formatDay : formatWeek)\n              : d3.timeYear(date) < date ? formatMonth\n              : formatYear)(date);\n        }\n        let bottomAxis = () => {\n            return d3.axisBottom(this._xScale)\n                .ticks(7)\n                .tickFormat(multiFormat)\n                .tickPadding(10)\n                .tickSizeInner((-1 * this._height))\n                .tickSizeOuter(0)\n            ;\n        };\n        svg.select('.xAxis')\n            .duration(this._prms.duration)\n            .call(bottomAxis())\n        ;\n        let leftAxis = () => {\n            return d3.axisLeft(this._yScale)\n                .ticks(8)\n                .tickPadding(10)\n                .tickSizeInner(-1 * this._width)\n                .tickSizeOuter(0)\n            ;\n        };\n        svg.select('.yAxis')\n            .duration(this._prms.duration)\n            .call(leftAxis())\n        ;\n        // Do the transitions\n        this.lineTransitions(d,'tot_pageviews', '.pageviews', '#pageviewsText');\n        this.lineTransitions(d, 'tot_visitors', '.visitors', '#visitorsText');\n        this.lineTransitions(d, 'tot_entrances', '.entrances', '#entrancesText');\n        svg.select('#startDateGuide')\n            .duration(this._prms.duration)\n            .attr('width', this._xScale(d[0].date_recorded))\n        ;\n        svg.select('#endDateGuide')\n            .duration(this._prms.duration)\n            .attr('width', this._width - this._xScale(d[d.length - 1].date_recorded))\n            .attr('x', this._xScale(d[d.length - 1].date_recorded))\n        ;\n        d3.selectAll('.yAxis .tick line')\n            .attr('stroke-dasharray', '4,2')\n            .attr('stroke', 'gray')\n        ;\n        d3.selectAll('.xAxis .tick line')\n            .attr('stroke', 'lightgray')\n        ;\n        d3.selectAll('.yAxis .tick text')\n            .style('font-size', '14px');\n        d3.selectAll('.xAxis .tick text')\n            .style('font-size', '14px');\n        d3.timer(function() {\n            d3.selectAll('.xAxis .tick > text')\n            .style('font-weight', function() {\n                var el = d3.select(this);\n                if (!isNaN(el.text())) { return 'bold'; } else { return ''; }\n            });\n        }, 100);\n        this.metricReadouts(d);\n        this.Table.detailTables(d);\n    }\n    lineTransitions(d, dataCol, lineClass, txtId) {\n        // horrors...\n        let lineD = d3.area()\n            .x((d) => { return this._xScale(d.date_recorded); })\n            .y1((d) => { return this._yScale(d[dataCol]); });\n        lineD.y0(this._yScale(0));\n        lineD = lineD(d);\n        let originalPath = lineD.substring(1, lineD.length-1);\n        originalPath = originalPath.split('L');\n        let pathCoordinates1 = [];\n        let pathCoordinates2 = [];\n        let endLine = '';\n        let secondSegment = false;\n        let lineLength = originalPath.length;\n        for (let i=0; i<lineLength; i++) {\n            var coords = originalPath[i].split(',');\n            coords[0] = Number(coords[0]);\n            coords[1] = Number(coords[1]);\n            var coordsObj = {x: coords[0], y: coords[1]};\n            if ((coords[0] < this._width) && (!secondSegment)) {\n                pathCoordinates1.push(coordsObj);\n            } else if (coords[0] === this._width) {\n                secondSegment = true;\n                endLine += originalPath[i] + 'L';\n            } else if (secondSegment) {\n                pathCoordinates2.push(coordsObj);\n            }\n        }\n        pathCoordinates1 = simplify(pathCoordinates1, .5);\n        pathCoordinates2 = simplify(pathCoordinates2, .5);\n        var increment = pathCoordinates2[0]['x'] / pathCoordinates1.length;\n        for (var i=1; i<=pathCoordinates1.length - 1; i++) {\n            var item = {x: pathCoordinates2[0]['x'] - increment * i, y: pathCoordinates2[0]['y']};\n            pathCoordinates2.splice(i, 0, item);\n        }\n        lineD = 'M';\n        for (var i=0; i<pathCoordinates1.length; i++) {\n            lineD += pathCoordinates1[i]['x'] + ',' + pathCoordinates1[i]['y'] + 'L';\n        }\n        lineD += endLine;\n        for (var i=0; i<pathCoordinates2.length; i++) {\n            lineD += pathCoordinates2[i]['x'] + ',' + pathCoordinates2[i]['y'] + 'L';\n        }\n        lineD = lineD.substring(0, lineD.length-1) + 'Z';\n        this._mainChart.transition().select(lineClass)\n            .duration(this._prms.duration)\n            .attrTween('d', function() {\n                var previous = d3.select(this).attr('d') || lineD;\n                var current = lineD;\n                function exclude(a, b) {\n                    return a.x === b.x;\n                }\n                return d3.interpolatePath(previous, current, exclude);\n            });\n        this._mainChart.transition().select(txtId)\n            .duration(this._prms.duration)\n            .attr(\"transform\", \"translate(\"+(this._width+3)+\",\"+this._yScale(d[d.length - 1][dataCol])+\")\")\n        ;  \n    }\n    metricReadouts(d) {\n        d3.select('#pageviews-readout')\n            .transition().duration(this._prms.duration)\n            .tween('text', function() {\n                var element = d3.select(this);\n                var f = d3.format(',.0f');\n                var newValue = d[d.length - 1].tot_pageviews - d[0].tot_pageviews + d[0].pageviews;\n                var i = d3.interpolateNumber(element.text().replace(/,/g, ''), newValue);\n                return function(t) {\n                    element.text(f(i(t)));\n                };\n            });\n        d3.select('#visitors-readout')\n            .transition().duration(this._prms.duration)\n            .tween('text', function() {\n                var element = d3.select(this);\n                var f = d3.format(',.0f');\n                var newValue = d[d.length - 1].tot_visitors - d[0].tot_visitors + d[0].visitors;\n                var i = d3.interpolateNumber(element.text().replace(/,/g, ''), newValue);\n                return function(t) {\n                    element.text(f(i(t)));\n                };\n            });\n        d3.select('#entrances-readout')\n            .transition().duration(this._prms.duration)\n            .tween('text', function() {\n                var element = d3.select(this);\n                var f = d3.format(',.0f');\n                var newValue = d[d.length - 1].tot_entrances - d[0].tot_entrances + d[0].entrances;\n                var i = d3.interpolateNumber(element.text().replace(/,/g, ''), newValue);\n                return function(t) {\n                    element.text(f(i(t)));\n                };\n            });  \n        d3.select('#duration-readout')\n            .transition().duration(this._prms.duration)\n            .tween('text', function() {\n                var element = d3.select(this);\n                var avg_time = 0;\n                for (var i=0; i<d.length; i++) {\n                    avg_time += Number(d[i].avg_time);\n                }\n                var avg_seconds = Math.floor(avg_time / d.length);\n                var makeTime = function(time) {\n                    var min = Math.floor(time / 60);\n                    var sec = Math.floor(time - min * 60);\n                    return min + ':' + (\"0\" + sec).slice(-2);\n                };\n                var breakTime = function(time) {\n                    time = time.split(':');\n                    var min = +time[0];\n                    var sec = +time[1];\n                    var totalSec = (min * 60) + sec;\n                    return totalSec;\n                };\n                var elementText = element.text();\n                var i = d3.interpolateNumber(breakTime(elementText), avg_seconds);\n                return function(t) {\n                    element.text(makeTime(i(t)));\n                };\n            });\n        d3.select('#bounce-readout')\n            .transition().duration(this._prms.duration)\n            .tween('text', function() {\n                var element = d3.select(this);\n                var bounceRate = 0;\n                for (var i=0; i<d.length; i++) {\n                    bounceRate += Number(d[i].bounce_rate);\n                }\n                bounceRate = bounceRate / d.length;\n                var f = d3.format('.1f');\n                var i = d3.interpolateNumber(element.text().replace(/%/g, ''), bounceRate);\n                return function(t) {\n                    element.text(f(i(t)) + '%');\n                };\n            });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./web/js/chart.js","'use strict';\nclass Table {\n    constructor() {\n        this._detailsTable = jQuery('#p0');\n    }\n    detailTables(d, start = false, end = false) {\n        var sites = getCurrentSites(d);\n        var url = '?r=/dashboard/details&';\n        for (var i=0; i < sites.length; i++) {\n            url += 'pids[' + i +  ']=' + sites[i][1] + '&';\n        }\n        if (start) { \n            start = start.getFullYear() + '-' + ('0' + (start.getMonth() + 1)).slice(-2) + '-' + ('0' + start.getDate()).slice(-2);\n            url += 'start=' + start + '&';\n        }\n        if (end) { \n            end = end.getFullYear() + '-' + ('0' + (end.getMonth() + 1)).slice(-2) + '-' + ('0' + end.getDate()).slice(-2);\n            url += 'end=' + end + '&';\n        }\n        jQuery.get(url, (data) => {\n            data = '<div id=\"p0\">' + data + '</div>';\n            this._detailsTable.show();\n            this._detailsTable.html(data);\n        });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./web/js/table.js","(function() {\r\n    ChartInst = new Chart(initialDataUrl, dealerList);\r\n    ChartInst.Table = new Table();\r\n})();\n\n\n// WEBPACK FOOTER //\n// ./web/js/dashboard.js"],"sourceRoot":""}